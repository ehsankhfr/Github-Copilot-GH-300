# Using GitHub Copilot with Python

## Overview

GitHub Copilot is an AI pair programmer that offers autocomplete-style suggestions as you code in Python. This module teaches you how to enable the GitHub Copilot extension in Visual Studio Code, craft prompts that generate useful suggestions, and use GitHub Copilot to improve a Python project through hands-on exercises.

**Module Duration**: 22 minutes  
**Level**: Beginner

## Learning Objectives

By the end of this module, you're able to:

- Enable the GitHub Copilot extension in Visual Studio Code
- Craft prompts that can generate useful suggestions from GitHub Copilot
- Use GitHub Copilot to improve a Python project

## Prerequisites

- Basic understanding of Python and text editors
- Basic comprehension of Git and GitHub Fundamentals (particularly running basic git commands like `git add` and `git push`)
- A GitHub Account with an active subscription for GitHub Copilot (Copilot Free option with usage limits should be sufficient for learning)

## Introduction

GitHub Copilot analyzes your file and related files, offering suggestions in your text editor. It uses OpenAI Codex, a new AI system developed by OpenAI, to help derive context from written code and comments, and then suggests new lines or entire functions.

GitHub Codespaces is a hosted developer environment operating in the cloud that can be run with Visual Studio Code. You can customize the development experience for any development project on GitHub, preinstalling dependencies, libraries, and even Visual Studio Code extensions and settings.

### Scenario: Improving a Project

As a developer, you want to be more productive when you're typing code for new projects and existing ones. For this task, you want to find out if an AI assistant is what you need to improve your developer workflows in code writing, documentation, testing, and more.

In this module, you learn how you can use GitHub Copilot to modify a project by using a prompt to customize a Python API. You also learn how to use live suggestions after typing initial code.

### What You'll Achieve

By the conclusion of this module, you will have:

- Configured a GitHub repository in Codespaces and installed the GitHub Copilot extension
- Crafted prompts to generate suggestions from GitHub Copilot
- Learned how to apply GitHub Copilot to improve your Python projects

### Main Objective

After successfully finishing this module, you're capable of using a prompt to customize a Python project with GitHub Copilot in GitHub Codespaces.

## What is GitHub Copilot?

Often, when you write code, you need to consult official documentation or other web pages to remember syntax or how to solve a problem. You can also spend hours trying to resolve a problem when the code isn't working. Additionally, you also spend time writing tests and documentation. All these tasks are time consuming.

To be more efficient, you could use code snippets or rely on tooling in your integrated development environment (IDE). But is there a better way?

### How Does It Work?

GitHub Copilot is an AI assistant that you use from within your IDE that's capable of generating code and much more. GitHub Copilot uses promptsâ€”a prompt is natural language text that you type. Copilot uses the text to provide suggestions based on what you type.

A prompt can look like the following example:

```python
# Create a web API using FastAPI with a route to products.
```

Copilot then uses the prompt to generate a response that you can choose to accept or reject. A response to the prompt might look like the following code:

```python
from fastapi import FastAPI
app = FastAPI()

@app.get("/products")
def read_products():
    return []
```

### How It Recognizes Prompts

Copilot can tell that something is a prompt or an instruction if you:

- Type it as a comment in a code file with a file ending like `.py` or `.js`
- Type text in a markdown file and wait a few seconds for Copilot to return a response

### Accepting Suggestions

What you get back from Copilot is a suggestion, or text that shows itself as gray code (if you use black as your text color). To accept the suggestion, you need to press the **Tab** key.

Copilot might suggest more than one thing. In this case, you can cycle between suggestions by using **Ctrl + Enter**, and select the most appropriate one.

## Setting Up GitHub Copilot

### How to Set Up GitHub Copilot

To use GitHub Copilot, you need to complete the following steps:

**1. GitHub Account**

Create a GitHub account. Since Copilot is a GitHub service, you need a GitHub account to use it. If you don't have an account, visit the GitHub webpage to create one for free.

**2. Sign Up and Enable GitHub Copilot**

You can set up a GitHub Copilot Free account or sign up for a subscription to GitHub Copilot Pro trial with a one-time 30-day trial. For learning purposes, the Copilot Free option with usage limits should be sufficient.

> **Important**: It's important to be aware of the GitHub Copilot free trial conditions: if you choose the free trial offer for GitHub Copilot, a form of payment is requested at sign-up. Charges aren't applied until the trial is over, unless you cancel before the conclusion of the 30-day period.

> **Tip**: GitHub Copilot offers a free tier with 2,000 code autocompletes and 50 chat messages per month. To get started, open Visual Studio Code, select the GitHub Copilot icon, and then select "Sign in to Use GitHub Copilot for Free". Sign in to your GitHub account in the window that opens in the browser. Educators, Students, and select open-source maintainers can receive Copilot Pro for free.

**3. Install the Extension**

GitHub Copilot is available as an extension for major Integrated Development Environments (IDEs), including Visual Studio, Visual Studio Code, JetBrains IDEs, VIM, and XCode.

To install, search for "GitHub Copilot" in your IDE's extension marketplace and follow the installation instructions. For example, in the VS Code marketplace, you can find GitHub Copilot, GitHub Copilot Chat, and GitHub Copilot for Azure as options to install.

### Environment Setup

First you need to launch the Codespaces environment, which comes preconfigured with the GitHub Copilot extension.

**Steps:**

1. Open the Codespace with the preconfigured environment in your browser
2. On the Create codespace page, review the codespace configuration settings, then select "Create new codespace"
3. Wait for the codespace to start (this startup process can take a few minutes)
4. The remaining exercises in this project take place in the context of this development container

> **Important**: All GitHub accounts can use Codespaces for up to 60 hours free each month with two core instances.

### Python Web API

When complete, Codespaces loads with a terminal section at the bottom. Codespaces installs all the required extensions in your container. Once the package installs are completed, Codespaces executes the uvicorn command to start your web application running within your Codespace.

When the web application successfully starts, a message in the terminal shows that the server is running on port 8000 within your Codespace.

### Testing the API

In the Simple Browser tab of your Codespace, on the Containerized Python API page, select the "Try it out" button. A FastAPI page opens in the Simple Browser tab that allows you to interact with the API by sending a request using the self-documented page.

To test the API, select the POST button and then the "Try it Out" button. Scroll down the tab and select "Execute". If you scroll down the tab further, you can see the response to your sample request.

## Using GitHub Copilot with Python

In previous units, we showed you how to set up Copilot and mentioned how it can make you faster as a developer starting to write code.

In this unit, we discuss how Copilot can help you with existing projects and with more complicated tasks.

### Developing with GitHub Copilot

Often when we build out projects, we need to continuously ensure our code is fresh and updated. Additionally, we might need to fix any bugs that come up or add new features to improve functionality and usability. Let's explore some ways to make updates with GitHub Copilot and GitHub Copilot Chat, an interactive chat interface that lets you ask and receive answers to code-related questions.

### Prompt Engineering

GitHub Copilot can suggest code as you enter it, but you can also create useful suggestions by building prompts. A prompt, which is our input, is a collection of instructions or guidelines that help generate code. A prompt is useful to generate specific responses from Copilot.

The quality of output from Copilot depends on how well you craft your prompt. Designing an effective prompt is crucial to ensuring you achieve your desired outcome.

**Poor prompt example:**

```python
# Create an API endpoint
```

The prompt is ambiguous and vague, so the result from GitHub Copilot might not be what you need. It could, for example, suggest code that uses a framework that you don't know, or an endpoint that requires data that you don't recognize.

**Better prompt example:**

```python
# Create an API endpoint using the FastAPI framework that accepts a JSON payload in a POST request
```

The prompt is specific, clear, and allows GitHub Copilot to understand the goal and scope of the task. You can provide context and examples to Copilot using comments or code, but you can also use the chat option of GitHub Copilot Chat to enhance your prompt. Having a good prompt ensures that the model generates a high-quality output.

### Best Practices Using GitHub Copilot

Copilot supercharges your productivity but requires some good practices to ensure quality.

**1. Keep your prompts simple, then add more elaborate components**

Start with:
```
create an HTML form with a text field and button
```

Next, elaborate more on the prompt to get more specific suggestions:
```
Add an event listener to the button to send a POST request to /generate endpoint and display response in a div with id "result"
```

**2. Cycle between suggestions**

You can do this using **Ctrl+Enter** (or **Cmd+Enter** on a Mac). You get various suggestions from Copilot, and you can pick the best output. Optionally, when using GitHub Copilot Chat, you can use the chat input to add your prompt and interact with the output.

**3. Reword the prompt or start coding if stuck**

If you're not getting the results you want, then you can reword the prompt or start writing code for Copilot to autocomplete.

> **Note**: GitHub Copilot uses open files in your text editor as additional context. This is helpful because it provides useful information in addition to the prompt or code you may be writing. If you need GitHub Copilot to provide suggestions based on other files, you can open those or use @workspace with your prompt when using GitHub Copilot Chat.

## Exercise: Updating a Python Web API

Let's explore how you can modify a Python repository using code suggestions from GitHub Copilot to create an interactive HTML form and an Application Programming Interface (API) endpoint. By working with this repository, you quickly get hands-on with a Python web app that serves an HTTP API that generates a pseudo-random token, commonly used in identification routines.

### What is an API?

An API acts as the intermediary that allows different applications to communicate with each other. For example, a weather website can either share historical data or provide forecast functionality through its API. Using the API, you can embed the data into your website or create an application sharing weather data with other features.

### Extending the Web API

The API already has a single endpoint to generate a token. Let's update the API by adding a new endpoint that accepts text and returns a list of tokens.

**Step 1: Add a Pydantic Model**

Go to the `main.py` file, and add a comment so that GitHub Copilot can generate a Pydantic model for you. The generated model should look like this example:

```python
class Text(BaseModel):
    text: str
```

**Step 2: Generate a New Endpoint**

Next, generate a new endpoint with GitHub Copilot by adding the comment:

```python
# Create a FastAPI endpoint that accepts a POST request with a JSON body containing a single field called "text" and returns a checksum of the text
```

**Step 3: Add Necessary Imports**

The generated code can cause the application to crash if the `base64` and `os` modules aren't imported. Use GitHub Copilot Chat to ask Copilot to help you add the missing imports.

Alternatively, add the following lines to the top of the file:

```python
import base64
import os
```

Finally, verify the new endpoint is working. Try it out by going to the `/docs` endpoint and confirming that the endpoint shows up.

Congratulations! Through the exercise, you not only used Copilot to generate code, but you also did it in an interactive and fun way! You can use GitHub Copilot to generate code, write documentation, test your applications, and more.

## Assessment Questions

1. What is GitHub Copilot?
2. What AI system does GitHub Copilot use to derive context from code and comments?
3. How do you accept a GitHub Copilot suggestion?
4. What key combination allows you to cycle between multiple Copilot suggestions?
5. What is a prompt in the context of GitHub Copilot?
6. What are two ways Copilot can recognize a prompt?
7. How many code autocompletes does the free tier of GitHub Copilot offer per month?
8. How many chat messages does the free tier of GitHub Copilot offer per month?
9. What should you be aware of regarding the free trial payment?
10. Which IDEs support GitHub Copilot as an extension?
11. What is GitHub Codespaces?
12. How many free Codespaces hours does GitHub provide per month?
13. What port does the Python web application run on in the exercise?
14. What command starts the Python web application in the Codespace?
15. What is FastAPI?
16. What makes a prompt "better" according to the module?
17. What is the first best practice mentioned for using GitHub Copilot effectively?
18. How does GitHub Copilot use open files in your text editor?
19. What should you do if you're not getting the results you want from Copilot?
20. What is GitHub Copilot Chat?
21. What is a Pydantic model used for in the exercise?
22. What two modules need to be imported in Step 3 of the exercise?
23. How can you verify the new endpoint is working?
24. Who can receive Copilot Pro for free?
25. What is the main objective of this module?

## Answer Key

1. An AI pair programmer that offers autocomplete-style suggestions as you code
2. OpenAI Codex
3. Press the Tab key
4. Ctrl+Enter (or Cmd+Enter on Mac)
5. Natural language text (a collection of instructions or guidelines) that helps generate code
6. Type it as a comment in a code file (.py, .js), or type text in a markdown file and wait a few seconds
7. 2,000 code autocompletes
8. 50 chat messages
9. Charges aren't applied until the trial is over, unless you cancel before the 30-day period ends
10. Visual Studio, Visual Studio Code, JetBrains IDEs, VIM, and XCode
11. A hosted developer environment operating in the cloud that can be run with Visual Studio Code
12. 60 hours (with two core instances)
13. Port 8000
14. The uvicorn command
15. A Python web framework used to create APIs (mentioned in the exercise context)
16. It is specific, clear, and allows GitHub Copilot to understand the goal and scope of the task
17. Keep your prompts simple, then add more elaborate components as you keep going
18. As additional context to provide useful information in addition to the prompt or code being written
19. Reword the prompt or start writing code for Copilot to autocomplete
20. An interactive chat interface that lets you ask and receive answers to code-related questions
21. To define the data structure for the text input (with a text field)
22. `base64` and `os`
23. By going to the `/docs` endpoint and confirming the endpoint shows up
24. Educators, Students, and select open-source maintainers
25. To be capable of using a prompt to customize a Python project with GitHub Copilot in GitHub Codespaces

## Summary

In this module, we looked at how GitHub Codespaces can significantly improve the software development lifecycle. We learned about the features of GitHub Codespaces that range from creating a repository from a GitHub template to adding functionality with live suggestions. GitHub Codespaces allows you to customize your coding experience and GitHub Copilot guides you in each step of the way.

### Key Takeaways

After finishing this module, you should be able to:

- Configure a GitHub repository in Codespaces and install the GitHub Copilot extension
- Engineer prompts for your project that follow best practices to generate suggestions from GitHub Copilot
- Use GitHub Copilot Chat to ask coding-related questions and receive answers
- Apply GitHub Copilot to improve Python projects with practical examples

### Best Practices Recap

- Start with simple prompts and gradually add complexity
- Cycle through suggestions to find the best option
- Reword prompts or start coding if you're stuck
- Use open files as additional context
- Leverage GitHub Copilot Chat for interactive assistance
- Always test generated code to ensure it works as expected

### Deleting Your Codespaces Resources

To avoid consuming all of your monthly GitHub Codespaces time, it's important to delete your resources after you upload your changes to your repository.

**Steps to delete your Codespace instance:**

1. Go to GitHub Codespaces (https://github.com/codespaces)
2. Find your Codespace instance in the list
3. Select the `...` menu to display your options
4. Select "Delete" to remove your Codespace instance

> **Note**: If you don't commit your changes to your repository, you will lose all your work. Therefore, it's important to commit and push your changes before deleting your Codespace instance.

By mastering GitHub Copilot with Python, you can significantly enhance your productivity, write cleaner code faster, and focus more on solving complex problems rather than syntax details. Whether you're building web APIs, working with data, or creating automation scripts, Copilot serves as an intelligent pair programmer that accelerates your development workflow.
